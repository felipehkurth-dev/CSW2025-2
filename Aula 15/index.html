<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 15</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="main-section">
    <div id="nascimento" class="logo">
        <h1>Calculadora de Idade</h1>
        <p><em>Para calcular sua idade, insira o dia, mês e ano de nascimento!</em></p>
    </div>

    <div class="form">
        <span>Data de Nascimento:</span>
        <input type="number" id="dia_nascimento" placeholder="Dia" min="1" max="31">
        <select id="mes_nascimento">
            <option value="">Selecione o mês</option>
            <option value="1">Janeiro</option>
            <option value="2">Fevereiro</option>
            <option value="3">Março</option>
            <option value="4">Abril</option>
            <option value="5">Maio</option>
            <option value="6">Junho</option>
            <option value="7">Julho</option>
            <option value="8">Agosto</option>
            <option value="9">Setembro</option>
            <option value="10">Outubro</option>
            <option value="11">Novembro</option>
            <option value="12">Dezembro</option>
        </select>
        <input type="number" id="ano_nascimento" placeholder="Ano">
    </div>

    <br>
    <button class="botao" onclick="calculaIdade()">Calcular Idade</button>

    <div>
        <label id="resultado">Idade</label>
    </div>
    
    <script>
        function calculaIdade() {
            const hoje = new Date();

            const dia = parseInt(document.getElementById("dia_nascimento").value);
            const mes = parseInt(document.getElementById("mes_nascimento").value);
            const ano = parseInt(document.getElementById("ano_nascimento").value);
            const result = document.getElementById("resultado");

            // Validação básica
            if (!dia || !mes || !ano || dia < 1 || dia > 31 || mes < 1 || mes > 12 || ano < 1900) {
                alert("Digite uma data de nascimento válida!");
                return;
            }

            // Cria data de nascimento corretamente
            const nascimento = new Date(ano, mes - 1, dia);

            // Calcula idade base
            let idade = hoje.getFullYear() - nascimento.getFullYear();

            // Ajusta se ainda não fez aniversário este ano
            const mesAtual = hoje.getMonth();
            const diaAtual = hoje.getDate();

            if (mesAtual < nascimento.getMonth() ||
                (mesAtual === nascimento.getMonth() && diaAtual < nascimento.getDate())) {
                idade--;
            }

            // Mostra resultado na página
            result.innerText = "Idade: " + idade + " anos";
        }
    </script>
    </main>
</body>

</body>
</html>